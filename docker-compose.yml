version: "3.9"
services:
  youtube-record:
    build: .
    image: youtube-record:latest
    tty: true
    stdin_open: true
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ${RecordPath:-./record}:/output
      - ${TempPath:-./record}:/temp_path
      - ${UnArchivedPath:-./unarchived}:/unarchived_stream
      - ${CookiesFilePath:-./cookies.txt}:/app/cookies.txt
    env_file:
      - .env
    networks:
      youtube-record:
        ipv4_address: 172.28.0.2

networks:
  youtube-record:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 172.28.0.0/16
          gateway: 172.28.0.1
